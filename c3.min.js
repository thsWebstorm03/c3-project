(function(N){function jd(){function s(d,e){d.attr("transform",function(d){return"translate("+(e(d)+ba)+", 0)"})}function v(d,e){d.attr("transform",function(d){return"translate(0,"+e(d)+")"})}function N(d){var e=d[0];d=d[d.length-1];return e<d?[e,d]:[d,e]}function Ca(d){for(var e=[],s=Math.ceil(d[0]);s<d[1];s++)e.push(s);0<e.length&&0<e[0]&&e.unshift(e[0]-(e[1]-e[0]));return e}function Da(d){d=d<ca.length?ca[d]:d;return K?K(d):d}function m(m){m.each(function(){var m=d.select(this),ja=Ca(u.domain()),
Q=m.selectAll(".tick.major").data(ja,String),R=Q.enter().insert("g","path").attr("class","tick major").style("opacity",1E-6),S=d.transition(Q.exit()).style("opacity",1E-6).remove(),x=d.transition(Q).style("opacity",1),L,K=u.rangeExtent?u.rangeExtent():N(u.range()),m=m.selectAll(".domain").data([0]);m.enter().append("path").attr("class","domain");var m=d.transition(m),C=u.copy(),ca=this.__chart__||C;this.__chart__=C;R.append("line");R.append("text");var ka=R.select("line"),Wa=x.select("line"),la=Q.select("text"),
Xa=R.select("text"),Ya=x.select("text");ba=(C(1)-C(0))/2;Q=ta?0:ba;switch(da){case "bottom":L=s;ka.attr("y2",M);Xa.attr("y",Math.max(M,0)+e);Wa.attr("x1",Q).attr("x2",Q).attr("y2",M);Ya.attr("x",0).attr("y",Math.max(M,0)+e);la.attr("dy",".71em").style("text-anchor","middle");la.text(function(d){return ja.length<W||0===d%Math.ceil(ja.length/W)?Da(d):""});m.attr("d","M"+K[0]+","+G+"V0H"+K[1]+"V"+G);break;case "left":L=v,ka.attr("x2",-M),Xa.attr("x",-(Math.max(M,0)+e)),Wa.attr("x2",-M).attr("y2",0),
Ya.attr("x",-(Math.max(M,0)+e)).attr("y",ba),la.attr("dy",".32em").style("text-anchor","end"),la.text(function(d){return ja.length<W||0===d%Math.ceil(ja.length/W)?Da(d):""}),m.attr("d","M"+-G+","+K[0]+"H0V"+K[1]+"H"+-G)}if(u.ticks)R.call(L,ca),x.call(L,C),S.call(L,C);else{var Za=C.rangeBand()/2,S=function(d){return C(d)+Za};R.call(L,S);x.call(L,S)}})}var u=d.scale.linear(),da="bottom",M=6,G=6,e=3,ta=!1,W=10,ba=0,K=null,ca=[];m.scale=function(d){if(!arguments.length)return u;u=d;return m};m.orient=
function(d){if(!arguments.length)return da;da=d in{top:1,right:1,bottom:1,left:1}?d+"":"bottom";return m};m.categories=function(d){if(!arguments.length)return ca;ca=d;return m};m.tickCentered=function(d){if(!arguments.length)return ta;ta=d;return m};m.tickTextNum=function(d){if(!arguments.length)return W;W=d;return m};m.tickFormat=function(d){if(!arguments.length)return K;K=d;return m};m.tickOffset=function(){return ba};m.ticks=function(){};return m}function v(d){return"undefined"===typeof d}function s(d){return"undefined"!==
typeof d}var wb=N.c3={},d=N.d3;wb.generate=function(aa){var Zb,$b,Ca,Da,m,u,da,M,G;function e(a,b){for(var c=aa,f=0;f<a.length;f++){if(!(a[f]in c))return b;c=c[a[f]]}return c}function ta(){xb=null===$a?ba():$a;ua=W();cc=20+dc+ma;ec=ab?ab:yb?bb||h?1:40:20;cb=db?db:eb?1:40;fc=ua-dc-ma;gc=20+ma;hc=ua-ma;u=0;da=ec;M=cc;G=cb;Ca=fc;Da=gc;m=cb;Zb=hc;$b=cb;p=xb-G-da;t=ua-u-M;na=ua-Ca-Da;zb=t/2;fb=0.95*zb}function W(){var a=null===ic?+d.select(va).style("height").replace("px",""):ic;return 0<a?a:320}function ba(){return+d.select(va).style("width").replace("px",
"")}function K(){return p+2+G+da}function ca(){return 40}function ja(){return G+20}function wb(){return t-u+42}function kd(){var a=h?t:p,b=Ab(),c=Ea();return 1<c?a*b/(c-1):a}function Q(){jc=h?10:0;kc=h?t:p;Bb=h?0:t;Cb=h?p:1;n=R(jc,kc,s(n)?n.domain():void 0,function(){return H.tickOffset()});y=S(Bb,Cb,s(y)?y.domain():void 0);X=S(Bb,Cb,s(X)?X.domain():void 0);T=R(0,p,s(U)?U:void 0,function(a){return 0===a%1?Fa.tickOffset():0});gb=S(na,10);hb=S(na,10);H=ac(n,ld);oa=d.svg.axis().scale(y).orient(md);ib=
d.svg.axis().scale(X).orient(nd);Fa=ac(T,od);jb=Wa();lc=la();mc=la(0.98)}function R(a,b,c,f){var k=(A?d.time.scale():d.scale.linear()).range([a,b]);k.orgDomain=function(){return k.domain()};s(c)&&k.domain(c);v(f)&&(f=function(){return 0});if(Y){var wa=k,e,k=function(a){return wa(a)+f(a)};for(e in wa)k[e]=wa[e];k.orgDomain=function(){return wa.domain()};k.domain=function(a){if(!arguments.length)return a=wa.domain(),[a[0],a[1]+1];wa.domain(a);return k}}return k}function S(a,b){return d.scale.linear().range([a,
b])}function x(a){return"y2"===C(a)?X:y}function L(a){return"y2"===C(a)?hb:gb}function ac(a,b){var c=(Y?jd():d.svg.axis()).scale(a).orient(b);c.tickFormat(bc());Y?c.categories(Ga).tickCentered(pd):c.tickOffset=function(){return 0};return c}function C(a){return a in nc?nc[a]:"y"}function bc(){var a=A?qd:Y?rd:function(a){return a};kb&&(a="function"===typeof kb?kb:A?function(a){return d.time.format(kb)(a)}:a);return a}function ka(a){var b=!1;Db(g.data.targets).forEach(function(c){b||c.data.id!==a.data.id||
(b=!0,a=c)});return b?a:null}function Wa(){var a=d.svg.arc().outerRadius(fb).innerRadius(0),b=function(b,f){var k;return f?a(b):(k=ka(b))?a(k):"M 0 0"};b.centroid=a.centroid;return b}function la(a){var b=d.svg.arc().outerRadius(zb*(a?a:1)).innerRadius(0);return function(a){return(a=ka(a))?b(a):"M 0 0"}}function Xa(a){a=ka(a);var b,c;b="";a&&(b=jb.centroid(a),a=b[0],b=b[1],c=Math.sqrt(a*a+b*b),b="translate("+0.8*(a/c)*fb+","+0.8*(b/c)*fb+")");return b}function Ya(a){return(100*(a.endAngle-a.startAngle)/
(2*Math.PI)).toFixed(1)+"%"}function Za(a,b){var c=q.selectAll(".chart-arc.target"+(a?"-"+a:"")),f=q.selectAll(".-arc").filter(function(b){return b.data.id!==a});c.selectAll("path").transition().duration(50).attr("d",lc).transition().duration(100).attr("d",mc);b||f.style("opacity",0.3)}function vb(a){q.selectAll(".chart-arc.target"+(a?"-"+a:"")).selectAll("path").transition().duration(50).attr("d",jb);q.selectAll(".-arc").style("opacity",1)}function sd(a){return d.min(a,function(a){return d.min(a.values,
function(a){return a.value})})}function td(a){var b={},c,f;a.forEach(function(a){b[a.id]=[];a.values.forEach(function(c){b[a.id].push(c.value)})});for(c=0;c<r.length;c++)for(f=1;f<r[c].length;f++)Ha(r[c][f])&&(v(b[r[c][f]])||b[r[c][f]].forEach(function(a,d){C(r[c][f])===C(r[c][0])&&b[r[c][0]]&&(b[r[c][0]][d]+=+a)}));return d.max(Object.keys(b).map(function(a){return d.max(b[a])}))}function lb(a){var b=mb(function(b){return C(b.id)===a}),c="y2"===a?ud:vd,f="y2"===a?wd:xd,c=null!==c?c:sd(b),f=null!==
f?f:td(b),k=0.1*Math.abs(f-c),d=k,e=k,g="y2"===a?yd:zd;null!==g&&(c=Math.max(Math.abs(c),Math.abs(f)),f=c-g,c=g-c);"y"===a&&null!==Ia&&(d=s(Ia.top)?Ia.top:k,e=s(Ia.bottom)?Ia.bottom:k);"y2"===a&&null!==Ja&&(d=s(Ja.top)?Ja.top:k,e=s(Ja.bottom)?Ja.bottom:k);return[Ka(b,"bar")?0:c-e,f+d]}function Ab(a){var b;a?(a=n.domain(),b=I.extent()):(a=U,b=n.domain());return(a[1]-a[0])/(b[1]-b[0])}function Ad(a){return d.min(a,function(a){return d.min(a.values,function(a){return a.x})})}function Bd(a){return d.max(a,
function(a){return d.max(a.values,function(a){return a.x})})}function nb(a){var b=[Ad(a),Bd(a)];a=b[0];var b=b[1],c=Y?0:0.01*Math.abs(a-b);a=A?new Date(a.getTime()-c):a-c;b=A?new Date(b.getTime()+c):b+c;return[a,b]}function Cd(a){for(var b=0;b<a.length;b++)if(!(a[b]in ob))return!1;return!0}function Dd(a){for(var b=[],c=0;c<a.length;c++)a[c]in ob&&b.push(oc(ob[a[c]]));return b}function Eb(a){return"start"in a?n(A?pa(a.start):a.start):0}function pc(a){var b=Eb(a);a=("end"in a?n(A?pa(a.end):a.end):p)-
b;return 0>a?0:a}function qc(a){return qa&&a===qa||Z&&Ed(Z,a)}function Fd(a){return!qc(a)}function Gd(a){Object.keys(a).forEach(function(b){Z[b]=a[b]})}function pb(a){var b;a&&(b=La[a.id],a.name=b?b:a.id);return a}function rc(a){var b=a[0],c={},f=[],k,d;for(k=1;k<a.length;k++){c={};for(d=0;d<a[k].length;d++)c[b[d]]=a[k][d];f.push(c)}return f}function sc(a){var b=[],c,f,k;for(c=0;c<a.length;c++)for(k=a[c][0],f=1;f<a[c].length;f++)v(b[f-1])&&(b[f-1]={}),b[f-1][k]=a[c][f];return b}function Ma(a){var b=
d.keys(a[0]).filter(Fd),c=d.keys(a[0]).filter(qc);if(A&&0===c.length)return N.alert('data.x or data.xs must be specified when axis.x.type == "timeseries"'),[];Fb&&b.forEach(function(b){var k=qa?qa:Z?Z[b]:null;0<=c.indexOf(k)?g.data.x[b]=a.map(function(a){return a[k]}):g.data.x[b]=g.data.x[Object.keys(g.data.x)[0]]});b=b.map(function(b){var c=Hd(b);return{id:c,id_org:b,values:a.map(function(a,d){var e;e=qa?qa:Z?Z[b]:null;e=A?pa(a[e]):Fb?a[e]?a[e]:b in g.data.x&&g.data.x[b]&&g.data.x[b][d]?g.data.x[b][d]:
d:d;a.x=e;return{x:e,value:null===a[b]||isNaN(a[b])?null:+a[b],id:c}})}});b.forEach(function(a){var b;a.values=a.values.sort(function(a,b){return(a.x||0===a.x?a.x:Infinity)-(b.x||0===b.x?b.x:Infinity)});b=0;a.values.forEach(function(a){a.index=b++})});b.forEach(function(a){ob[a.id_org]=oc(a)});return b}function oc(a){return{id:a.id,id_org:a.id_org,values:a.values.map(function(a){return{x:a.x,value:a.value,id:a.id}})}}function tc(a){return 0<a&&g.data.targets[0].values[a-1]?g.data.targets[0].values[a-
1].x:void 0}function Ea(){return d.max(g.data.targets,function(a){return a.values.length})}function Id(){var a=g.data.targets.length,b=0,c;1<a?g.data.targets.forEach(function(a){a.values.length>b&&(c=a,b=a.values.length)}):c=a?g.data.targets[0]:null;return c}function qb(a){a=v(a)?g.data.targets:a;return a.map(function(a){return a.id})}function uc(a){var b=qb(),c;for(c=0;c<b.length;c++)if(b[c]===a)return!0;return!1}function mb(a){return s(a)?g.data.targets.filter(a):g.data.targets}function rd(a){return a<
Ga.length?Ga[a]:a}function Na(a){return"-shapes -shapes-"+a.id}function vc(a){return Na(a)+" -line -line-"+a.id}function Jd(a){return Na(a)+" -circles -circles-"+a.id}function wc(a){return Na(a)+" -bars -bars-"+a.id}function Kd(a){return Na(a.data)+" -arc -arc-"+a.data.id}function Ld(a){return Na(a)+" -area -area-"+a.id}function Md(a,b){return"-shape -shape-"+b+" -circle -circle-"+b}function xc(a,b){return"-shape -shape-"+b+" -bar -bar-"+b}function Nd(a,b){return"region region-"+b+" "+("classes"in
a?[].concat(a.classes).join(" "):"")}function yc(a,b){return"event-rect event-rect-"+b}function xa(a){return n(a.x)}function Oa(a){return n(A?pa(a.value):a.value)}function zc(a){return y(a.value)}function Ac(a,b){var c,f=a[b].x,k=[];for(c=b-1;0<=c&&f===a[c].x;c--)k.push(a[c]);for(c=b;c<a.length&&f===a[c].x;c++)k.push(a[c]);return k}function Bc(a,b,c,f){c=c?c:0;f=f?f:a.length-1;var k=Math.floor((f-c)/2)+c;0<n(a[k].x)-b[0]?f=k:c=k;return 1===f-c?(k=[],a[c].x&&(k=k.concat(Ac(a,c))),a[f].x&&(k=k.concat(Ac(a,
f))),Cc(k,b)):Bc(a,b,c,f)}function Dc(a,b){var c;c=a.map(function(a){return Bc(a.values,b)});return Cc(c,b)}function Cc(a,b){var c,f;a.forEach(function(a){var d=Gb(a,b);if(d<c||!c)c=d,f=a});return f}function Ec(a,b){var c,f,k,d,e;V.html(Fc(a)).style("visibility","hidden").style("display","block");c=V.property("offsetWidth");f=V.property("offsetHeight");h?d=b[0]:(k=q.property("offsetLeft"),d=k+(db?db:eb?1:40)+n(a[0].x)+20,e=d+c,k=k+(null===$a?ba():$a)-(ab?ab:yb?bb||h?1:40:20),e>k&&(d-=c+30));c=b[1]+
15+f<W()?b[1]+15:b[1]-f;V.style("top",c+"px").style("left",d+"px").style("visibility","visible")}function Gc(a){Ka(g.data.targets,"scatter")||B(g.data.targets)||l.selectAll("line.xgrid-focus").style("visibility","visible").data([a]).attr(h?"y1":"x1",xa).attr(h?"y2":"x2",xa)}function Hc(){l.select("line.xgrid-focus").style("visibility","hidden")}function ea(a){return a.x||0===a.x?n(a.x):null}function fa(a){return x(a.id)(a.value)}function Od(){var a={},b=0,c,f;mb(Ha).forEach(function(k){for(c=0;c<
r.length;c++)if(!(0>r[c].indexOf(k.id)))for(f=0;f<r[c].length;f++)if(r[c][f]in a){a[k.id]=a[r[c][f]];break}v(a[k.id])&&(a[k.id]=b++)});a.__max__=b-1;return a}function Ic(a,b,c,f){var k=f?T:n;return b?function(f){var d=f.id in c?c[f.id]:0;return f.x||0===f.x?k(f.x)-a*(b/2-d):0}:function(){return 0}}function Jc(a,b,c,f){var k=Object.keys(b);return function(d,e){var g=0,h=f?L(d.id):x(d.id);mb(Ha).forEach(function(c){c.id!==d.id&&b[c.id]===b[d.id]&&k.indexOf(c.id)<k.indexOf(d.id)&&(g+=a(c.values[e]))});
return c?g:h(d.value)-g}}function Kc(a,b){var c=null===a?function(a){return a}:function(b){return a>b?a-b:0};return function(a){var d=b?L(a.id):x(a.id);return c(d(a.value))}}function Pa(a,b){var c=v(a)?qb():a;"string"===typeof c&&(c=[c]);for(var f=0;f<c.length;f++)D[c[f]]=b}function Ka(a,b){var c=!1;a.forEach(function(a){D[a.id]===b&&(c=!0);a.id in D||"line"!==b||(c=!0)});return c}function B(a){return Ka(a,"pie")}function Hb(a){a="string"===typeof a?a:a.id;return!(a in D)||"line"===D[a]||"spline"===
D[a]||"area"===D[a]||"area-spline"===D[a]}function Lc(a){a="string"===typeof a?a:a.id;return"spline"===D[a]||"area-spline"===D[a]}function Ha(a){return"bar"===D["string"===typeof a?a:a.id]}function Mc(a){return"pie"===D["string"===typeof a?a:a.id]}function Nc(a){return Ha(a)?a.values:[]}function Pd(a){var b;(b=Hb(a))||(b="scatter"===D["string"===typeof a?a:a.id]);return b?a.values:[]}function pa(a){var b;if(!a)throw Error(a+" can not be parsed as d3.time with format "+Ib+". Maybe 'x' of this data is not defined. See data.x or data.xs option.");
b=d.time.format(Ib).parse(a);if(!b)throw Error("Failed to parse '"+a+"' with format "+Ib);return b}function Oc(a,b){var c=d.mouse(a),f=d.select(a),k=1*f.attr("cx"),f=1*f.attr("cy");return Math.sqrt(Math.pow(k-c[0],2)+Math.pow(f-c[1],2))<b}function Pc(a){var b=d.mouse(a),c=d.select(a);a=1*c.attr("x");var f=1*c.attr("y"),c=1*c.attr("width");return a-10<b[0]&&b[0]<a+c+10&&f-10<b[1]}function Qd(a,b){var c;for(c=0;c<b.length;c++)if(b[c].start<a&&a<=b[c].end)return!0;return!1}function Ed(a,b){var c=!1;
Object.keys(a).forEach(function(f){a[f]===b&&(c=!0)});return c}function Gb(a,b){return Math.pow(n(a.x)-b[0],2)+Math.pow(y(a.value)-b[1],2)}function Qc(a,b,c){Rd(a,b);l.select(".selected-circles-"+b.id).selectAll(".selected-circle-"+c).data([b]).enter().append("circle").attr("class",function(){return"selected-circle selected-circle-"+c}).attr("cx",h?fa:ea).attr("cy",h?ea:fa).attr("stroke",function(){return O(b.id)}).attr("r",1.4*Qa).transition().duration(100).attr("r",Qa)}function Jb(a,b,c){Sd(a,b);
l.select(".selected-circles-"+b.id).selectAll(".selected-circle-"+c).transition().duration(100).attr("r",0).remove()}function Rc(a,b,c,f){a?Qc(b,c,f):Jb(b,c,f)}function Td(){}function Sc(){}function Tc(a,b,c,f){}function Kb(a){return a.filter(function(a){return null!==a.value})}function Lb(a,b){return(b?l.selectAll(".-circles-"+b):l).selectAll(".-circle"+(a||0===a?"-"+a:""))}function Mb(a){Lb(a).filter(function(){return d.select(this).classed($)}).classed($,!1).attr("r",Nb)}function Uc(a){return l.selectAll(".-bar"+
(a||0===a?"-"+a:""))}function Ud(a,b,c,f){var d,e,g="M",l,n,m,Vc,q,p=[];if(s(f))for(d=0;d<f.length;d++)p[d]={},v(f[d].start)?p[d].start=a[0].x:p[d].start=A?pa(f[d].start):f[d].start,v(f[d].end)?p[d].end=a[a.length-1].x:p[d].end=A?pa(f[d].end):f[d].end;Vc=h?function(a){return c(a.value)}:function(a){return b(a.x)};q=h?function(a){return b(a.x)}:function(a){return c(a.value)};f=A?function(a,d,f,k){var e=a.x.getTime();a=d.x-a.x;d=new Date(e+a*(f+k));return"M"+b(new Date(e+a*f))+" "+c(n(f))+" "+b(d)+
" "+c(n(f+k))}:function(a,d,f,k){return"M"+b(l(f))+" "+c(n(f))+" "+b(l(f+k))+" "+c(n(f+k))};for(d=0;d<a.length;d++)if(v(p)||!Qd(a[d].x,p))g+=" "+Vc(a[d])+" "+q(a[d]);else{l=R(a[d-1].x,a[d].x);n=S(a[d-1].value,a[d].value);e=b(a[d].x)-b(a[d-1].x);m=c(a[d].value)-c(a[d-1].value);e=Math.sqrt(Math.pow(e,2)+Math.pow(m,2));m=2/e;var t=2*m;for(e=m;1>=e;e+=t)g+=f(a[d-1],a[d],e,m)}return g}function Ob(a){var b;rb=d.select(va);if(rb.empty())N.alert('No bind element found. Check the selector specified by "bindto" and existance of that element. Default "bindto" is "#chart".');
else{rb.html("");g.data.x={};g.data.targets=Ma(a);ta();Q();n.domain(d.extent(nb(g.data.targets)));y.domain(lb("y"));X.domain(lb("y2"));T.domain(n.domain());gb.domain(y.domain());hb.domain(X.domain());H.ticks(10>a.length?a.length:10);oa.ticks(Vd).outerTickSize(0).tickFormat(Wd);ib.ticks(Xd).outerTickSize(0).tickFormat(Yd);U=n.domain();I.x(T);ra&&E.x(n);q=d.select(va).append("svg").attr("width",p+G+da).attr("height",t+u+M).on("mouseenter",Zd).on("mouseleave",$d);sb=q.append("defs");sb.append("clipPath").attr("id",
Pb).append("rect").attr("y",u).attr("width",p).attr("height",t-u);sb.append("clipPath").attr("id","xaxis-clip").append("rect").attr("x",-1-G).attr("y",-20).attr("width",K).attr("height",ca);sb.append("clipPath").attr("id","yaxis-clip").append("rect").attr("x",-G+1).attr("y",u-1).attr("width",ja).attr("height",wb);l=q.append("g").attr("transform",J.main);z=ya?q.append("g").attr("transform",J.context):null;za=Aa?q.append("g").attr("transform",J.legend):null;V=d.select(va).style("position","relative").append("div").style("position",
"absolute").style("z-index","10").style("display","none");l.append("g").attr("class","x axis").attr("clip-path",h?"":"url(#xaxis-clip)").attr("transform",J.x).call(h?oa:H).append("text").attr("class","-axis-x-label").attr("x",p).attr("dy","-.5em").style("text-anchor","end").text(ae);l.append("g").attr("class","y axis").attr("clip-path",h?"url(#yaxis-clip)":"").call(h?H:oa).append("text").attr("transform","rotate(-90)").attr("dy","1.2em").attr("dx","-.5em").style("text-anchor","end").text(be);yb&&
l.append("g").attr("class","y2 axis").attr("transform",J.y2).call(ib);a=l.append("g").attr("clip-path",Ra).attr("class","grid");Wc&&a.append("g").attr("class","xgrids");Qb&&(b=a.append("g").attr("class","xgrid-lines").selectAll(".xgrid-line").data(Qb).enter().append("g").attr("class","xgrid-line"),b.append("line").attr("class",function(a){return""+a["class"]}),b.append("text").attr("class",function(a){return""+a["class"]}).attr("text-anchor","end").attr("transform",h?"":"rotate(-90)").attr("dx",h?
0:-u).attr("dy",-6).text(function(a){return a.text}));ce&&a.append("g").attr("class","xgrid-focus").append("line").attr("class","xgrid-focus").attr("x1",h?0:-10).attr("x2",h?p:-10).attr("y1",h?-10:u).attr("y2",h?-10:t);Xc&&a.append("g").attr("class","ygrids");Rb&&a.append("g").attr("class","ygrid-lines").selectAll("ygrid-line").data(Rb).enter().append("line").attr("class",function(a){return"ygrid-line "+a["class"]});l.append("g").attr("clip-path",Ra).attr("class","regions");l.append("g").attr("clip-path",
Ra).attr("class","chart");l.select(".chart").append("g").attr("class","event-rects").style("fill-opacity",0).style("cursor",ra?"ew-resize":null);l.select(".chart").append("g").attr("class","chart-bars");l.select(".chart").append("g").attr("class","chart-lines");l.select(".chart").append("g").attr("class","chart-arcs").attr("transform",J.arc);if(ra)l.insert("rect",de?null:"g.grid").attr("class","zoom-rect").attr("width",p).attr("height",t).style("opacity",0).style("cursor","ew-resize").call(E).on("dblclick.zoom",
null);null!==tb&&I.extent("function"!==typeof tb?tb:tb(nb()));ya&&(z.append("g").attr("clip-path",Ra).attr("class","chart"),z.select(".chart").append("g").attr("class","chart-bars"),z.select(".chart").append("g").attr("class","chart-lines"),z.append("g").attr("clip-path",Ra).attr("class","x brush").call(I).selectAll("rect").attr("height",na),z.append("g").attr("class","x axis").attr("transform",J.subx).call(Fa));Aa&&ub(g.data.targets);Yc(g.data.targets);F({withTransition:!1,withUpdateXDomain:!0});
if(ee){if(A&&"string"===typeof Ba){Ba=pa(Ba);for(a=0;a<g.data.targets[0].values.length&&0!==g.data.targets[0].values[a].x-Ba;a++);Ba=a}V.html(Fc(g.data.targets.map(function(a){return pb(a.values[Ba])})));V.style("top",Zc.top).style("left",Zc.left).style("display","block")}null==N.onresize&&(N.onresize=fe());N.onresize.add&&N.onresize.add(ge)}}function he(a){a.append("rect").attr("class",yc).style("cursor",ga&&sa?"pointer":null).on("mouseover",function(a,c){if(!Sa&&!B(g.data.targets)){var d=g.data.targets.map(function(a){return pb(a.values[c])}),
k,e;if(0<Object.keys(La).length){e=[];for(var h in La)for(k=0;k<d.length;k++)if(d[k].id===h){e.push(d[k]);d.shift(k);break}d=e.concat(d)}Sb&&Lb(c,void 0).classed($,!0).attr("r",Tb);Uc(c).classed($,!1);Gc(d[0])}}).on("mouseout",function(a,c){B(g.data.targets)||(Hc(),V.style("display","none"),Mb(c),Uc(void 0).classed($,!1))}).on("mousemove",function(a,c){var f;Sa||B(g.data.targets)||(f=g.data.targets.map(function(a){return pb(a.values[c])}),Ec(f,d.mouse(this)),ga&&(sa||l.selectAll(".-shape-"+c).filter(function(a){return ha(a)}).each(function(){var a=
d.select(this).classed($,!0);"circle"===this.nodeName&&a.attr("r",Tb);q.select(".event-rect-"+c).style("cursor",null)}).filter(function(){var a=d.select(this);if("circle"===this.nodeName)return Oc(this,Qa);if("rect"===this.nodeName)return Pc(this,a.attr("x"),a.attr("y"))}).each(function(){var a=d.select(this);a.classed($)||(a.classed($,!0),"circle"===this.nodeName&&a.attr("r",Qa));q.select(".event-rect-"+c).style("cursor","pointer")})))}).on("click",function(a,c){B(g.data.targets)||(Ub?Ub=!1:l.selectAll(".-shape-"+
c).each(function(a){$c(this,a,c)}))}).call(d.behavior.drag().origin(Object).on("drag",function(){ad(d.mouse(this))}).on("dragstart",function(){bd(d.mouse(this))}).on("dragend",function(){cd()})).call(E).on("dblclick.zoom",null)}function ie(a){a.append("rect").attr("x",0).attr("y",0).attr("width",p).attr("height",t).attr("class","event-rect").on("mouseout",function(){B(g.data.targets)||(Hc(),V.style("display","none"),Mb())}).on("mousemove",function(){var a,c,f;Sa||B(g.data.targets)||(a=d.mouse(this),
c=Dc(g.data.targets,a),f=[pb(c)],Ec(f,a),Sb&&(Mb(),Lb(c.index,c.id).classed($,!0).attr("r",Tb)),Gc(f[0]),100>Gb(c,a)?q.select(".event-rect").style("cursor","pointer"):q.select(".event-rect").style("cursor",null))}).on("click",function(){var a,c;B(g.data.targets)||(a=d.mouse(this),c=Dc(g.data.targets,a),100>Gb(c,a)&&l.select(".-circles-"+c.id).select(".-circle-"+c.index).each(function(){$c(this,c,c.index)}))}).call(d.behavior.drag().origin(Object).on("drag",function(){ad(d.mouse(this))}).on("dragstart",
function(){bd(d.mouse(this))}).on("dragend",function(){cd()})).call(E).on("dblclick.zoom",null)}function $c(a,b,c){var f=d.select(a),e=f.classed(ia),g=!1,h;"circle"===a.nodeName?(g=Oc(a,1.5*Qa),h=Rc):"rect"===a.nodeName&&(g=Pc(a),h=Tc);if(sa||g)ga&&ha(b)&&(f.classed(ia,!e),h(!e,f,b,c)),je(b,f)}function ad(a){var b,c,f,e,h,n,m;B(g.data.targets)||!ga||ra&&!E.altDomain||(b=Vb[0],c=Vb[1],f=a[0],a=a[1],e=Math.min(b,f),h=Math.max(b,f),n=sa?u:Math.min(c,a),m=sa?t:Math.max(c,a),l.select(".dragarea").attr("x",
e).attr("y",n).attr("width",h-e).attr("height",m-n),l.selectAll(".-shapes").selectAll(".-shape").filter(function(a){return ha(a)}).each(function(a,b){var c=d.select(this),f=c.classed(ia),g=c.classed(Wb),l,p,s,q;l=!1;"circle"===this.nodeName?(l=1*c.attr("cx"),p=1*c.attr("cy"),q=Rc,l=e<l&&l<h&&n<p&&p<m):"rect"===this.nodeName&&(l=1*c.attr("x"),p=1*c.attr("y"),s=1*c.attr("width"),q=Tc,l=e<l+s&&l<h&&p<m);l^g&&(c.classed(Wb,!g),c.classed(ia,!f),q(!f,c,a,b))}))}function bd(a){!B(g.data.targets)&&ga&&(Vb=
a,l.select(".chart").append("rect").attr("class","dragarea").style("opacity",0.1),Sa=!0)}function cd(){!B(g.data.targets)&&ga&&(l.select(".dragarea").transition().duration(100).style("opacity",0).remove(),l.selectAll(".-shape").classed(Wb,!1),Sa=!1)}function F(a){var b,c,f,e,m;e=Od();m=e.__max__+1;var w,q,v,r;a=s(a)?a:{};c=s(a.withY)?a.withY:!0;v=s(a.withSubchart)?a.withSubchart:!0;r=s(a.withTransition)?a.withTransition:!0;b=s(a.withUpdateXDomain)?a.withUpdateXDomain:!1;a=s(a.withUpdateOrgXDomain)?
a.withUpdateOrgXDomain:!1;w=B(g.data.targets);r=r?250:0;a&&(n.domain(d.extent(nb(g.data.targets))),U=n.domain(),E.x(n).updateScaleExtent(),T.domain(n.domain()),I.x(T));b&&(n.domain(I.empty()?U:I.extent()),ra&&E.x(n).updateScaleExtent());y.domain(lb("y"));X.domain(lb("y2"));l.select(".x.axis").transition().duration(h?r:0).call(h?oa:H).style("opacity",w?0:1);l.select(".y.axis").transition().duration(h?0:r).call(h?H:oa).style("opacity",w?0:1);l.select(".y2.axis").transition().call(ib).style("opacity",
w?0:1);l.select(".x.axis .-axis-x-label").attr("x",p);gb.domain(y.domain());hb.domain(X.domain());V.style("display","none");l.select("line.xgrid-focus").style("visibility","hidden").attr("y2",t);if(Wc){if("year"===ke)for(b=[],w=nb(),a=w[0].getFullYear(),w=w[1].getFullYear();a<=w;a++)b.push(new Date(a+"-01-01 00:00:00"));else b=n.ticks(10);b=l.select(".xgrids").selectAll(".xgrid").data(b);b.enter().append("line").attr("class","xgrid");b.attr("x1",h?0:function(a){return n(a)-H.tickOffset()}).attr("x2",
h?p:function(a){return n(a)-H.tickOffset()}).attr("y1",h?function(a){return n(a)-H.tickOffset()}:u).attr("y2",h?function(a){return n(a)-H.tickOffset()}:t).style("opacity",function(){return+d.select(this).attr(h?"y1":"x1")===(h?t:0)?0:1});b.exit().remove()}Qb&&(b=l.selectAll(".xgrid-lines"),b.selectAll("line").attr("x1",h?0:Oa).attr("x2",h?p:Oa).attr("y1",h?Oa:u).attr("y2",h?Oa:t),b.selectAll("text").attr("x",h?p:0).attr("y",Oa));c&&Xc&&(b=l.select(".ygrids").selectAll(".ygrid").data(y.ticks(10)),
b.enter().append("line").attr("class","ygrid"),b.attr("x1",h?y:0).attr("x2",h?y:p).attr("y1",h?0:y).attr("y2",h?t:y),b.exit().remove());c&&Rb&&l.select(".ygrid-lines").selectAll(".ygrid-line").attr("y1",zc).attr("y2",zc);a=Y?m?1.2*H.tickOffset()/m:0:0.6*((h?t:p)*Ab(!1)/(Ea()-1));w=Kc(h?null:t);c=Ic(a,m,e);b=Jc(w,e,h);f=l.selectAll(".-bars").selectAll(".-bar").data(Nc);f.transition().duration(r).attr("x",h?b:c).attr("y",h?c:b).attr("width",h?w:a).attr("height",h?a:w);f.enter().append("rect").attr("class",
xc).attr("x",h?b:c).attr("y",h?c:b).attr("width",h?w:a).attr("height",h?a:w).style("opacity",0).transition().duration(r).style("opacity",1);f.exit().transition().duration(r).style("opacity",0).remove();l.selectAll(".chart-line").select(".-line").transition().duration(r).attr("d",le);l.selectAll(".-area").transition().duration(r).attr("d",me);c=l.selectAll(".-circles").selectAll(".-circle").data(Pd);c.transition().duration(r).style("opacity",function(a){return null===a.value?0:1}).attr("cx",h?fa:ea).attr("cy",
h?ea:fa);c.enter().append("circle").style("opacity",function(a){return null===a.value?0:1}).attr("class",Md).attr("cx",h?fa:ea).attr("cy",h?ea:fa).attr("r",Nb);c.exit().remove();l.selectAll(".chart-arc").select(".-arc").style("opacity",function(a){return a===this._current?0:1}).transition().duration(r).attrTween("d",function(a){a=ka(a);if(!a)return function(){return"M 0 0"};var b=d.interpolate(this._current,a);this._current=b(0);return function(a){a=b(a);return Mc(a.data)?jb(a,!0):"M 0 0"}}).style("opacity",
1);l.selectAll(".chart-arc").select("text").attr("transform",Xa).attr("opacity",0).transition().duration(r).text(Ya).attr("opacity",function(a){return Mc(a.data)?1:0});ya&&(null!==d.event&&"zoom"===d.event.type&&I.extent(n.orgDomain()).update(),v&&(z.select(".x.axis").transition().duration(h?r:0).call(h?oa:Fa),I.empty()||I.extent(n.orgDomain()).update(),a=Y?m?1.2*Fa.tickOffset()/m:0:0.6*((h?t:p)*Ab(!0)/(Ea()-1)),w=Kc(na,!0),c=Ic(a,m,e,!0),b=Jc(w,e,!1,!0),e=z.selectAll(".-bars").selectAll(".-bar").data(Nc),
e.transition().duration(r).attr("x",c).attr("y",b).attr("width",a).attr("height",w),e.enter().append("rect").attr("class",xc).attr("x",c).attr("y",b).attr("width",a).attr("height",w).style("opacity",0).transition().style("opacity",1),e.exit().transition().style("opacity",0).remove(),z.selectAll(".-line").transition().duration(r).attr("d",ne)));l.selectAll(".selected-circles").filter(function(a){return Ha(a)}).selectAll("circle").remove();l.selectAll(".selected-circle").transition().duration(r).attr("cx",
h?fa:ea).attr("cy",h?ea:fa);Z?(m=l.select(".event-rects").selectAll(".event-rect").data([0]),ie(m.enter()),m.attr("x",0).attr("y",0).attr("width",p).attr("height",t)):(Fb?(q=function(a,b){var c=tc(b),d=b<Ea()-1?g.data.targets[0].values[b+1].x:void 0;return(n(d?d:a.x+50)-n(c?c:a.x-50))/2},e=function(a,b){var c=tc(b);return(n(a.x)+n(c?c:a.x-50))/2}):(q=kd(),e=function(a){return n(a.x)-q/2}),m=Id(),l.select(".event-rects").datum(m?m.values:[]),m=l.select(".event-rects").selectAll(".event-rect").data(function(a){return a}),
he(m.enter()),m.attr("class",yc).attr("x",h?0:e).attr("y",h?e:0).attr("width",h?p:q).attr("height",h?q:t),m.exit().remove());e=l.select(".regions").selectAll("rect.region").data(P);e.enter().append("rect");e.attr("class",Nd).attr("x",h?0:Eb).attr("y",h?Eb:u).attr("width",h?p:pc).attr("height",h?pc:t).style("fill-opacity",function(a){return s(a.opacity)?a.opacity:0.1});e.exit().transition().duration(r).style("fill-opacity",0).remove()}function oe(){"mousemove"===d.event.sourceEvent.type&&E.altDomain?
(n.domain(E.altDomain),E.x(n).updateScaleExtent()):(Y&&n.orgDomain()[0]===U[0]&&n.domain([U[0]-1E-10,n.orgDomain()[1]]),F({withTransition:!1,withY:!1,withSubchart:!1}),"mousemove"===d.event.sourceEvent.type&&(Ub=!0))}function fe(){function a(){b.forEach(function(a){a()})}var b=[];a.add=function(a){b.push(a)};return a}function ge(){ta();Q();I.x(T);ra&&E.x(n);q.attr("width",xb).attr("height",ua);q.select("#"+Pb).select("rect").attr("width",p).attr("height",t);q.select("#xaxis-clip").select("rect").attr("width",
K);q.select(".zoom-rect").attr("width",p).attr("height",t);l.select(".x.axis").attr("transform",J.x);l.select(".y2.axis").attr("transform",J.y2);l.select(".chart-arcs").attr("transform",J.arc);ya&&(z.select(".x.brush").selectAll("rect").attr("height",na),z.attr("transform",J.context),z.select(".x.axis").attr("transform",J.subx));Aa&&(za.attr("transform",J.legend),ub(g.data.targets,{withTransition:!1}));F({withTransition:!1,withUpdateXDomain:!0})}function Yc(a){var b;dd&&Pa(qb(a).filter(function(a){return!(a in
D)}),dd);l.select(".chart-bars").selectAll(".chart-bar").data(a).enter().append("g").attr("class",function(a){return"chart-bar target target-"+a.id}).style("pointer-events","none").style("opacity",0).append("g").attr("class",wc).style("fill",function(a){return O(a.id)}).style("stroke",function(a){return O(a.id)}).style("stroke-width",0).style("cursor",function(a){return ha(a)?"pointer":null});b=l.select(".chart-lines").selectAll(".chart-line").data(a).enter().append("g").attr("class",function(a){return"chart-line target target-"+
a.id}).style("pointer-events","none").style("opacity",0);b.append("path").attr("class",vc).style("stroke",function(a){return O(a.id)});b.append("path").attr("class",Ld).style("fill",function(a){return O(a.id)});b.append("g").attr("class",function(a){return"selected-circles selected-circles-"+a.id});b.append("g").attr("class",Jd).style("fill",function(a){return O(a.id)}).style("cursor",function(a){return ha(a)?"pointer":null});a.forEach(function(a){l.selectAll(".selected-circles-"+a.id).selectAll(".selected-circle").each(function(b){b.value=
a.values[b.x].value})});b=l.select(".chart-arcs").selectAll(".chart-arc").data(Db(a)).enter().append("g").attr("class",function(a){return"chart-arc target target-"+a.data.id}).style("opacity",0);b.append("path").attr("class",Kd).style("fill",function(a){return O(a.data.id)}).style("cursor",function(a){return ha(a)?"pointer":null}).each(function(a){this._current=a}).on("mouseover",function(a){Za(a.data.id);ed(a.data.id)}).on("mouseout",function(a){vb(a.data.id);fd()});b.append("text").attr("dy",".35em").style("text-anchor",
"middle").style("pointer-events","none");ya&&(b=z.select(".chart-bars").selectAll(".chart-bar").data(a),b=b.enter().append("g").attr("class",function(a){return"chart-bar target target-"+a.id}).style("opacity",0),b.append("g").attr("class",wc).style("fill",function(a){return O(a.id)}),b=z.select(".chart-lines").selectAll(".chart-line").data(a),b=b.enter().append("g").attr("class",function(a){return"chart-line target target-"+a.id}).style("opacity",0),b.append("path").attr("class",vc).style("stroke",
function(a){return O(a.id)}));Aa&&ub(a);q.selectAll(".target").transition().style("opacity",1)}function Ta(a,b){g.data.targets.forEach(function(b){for(var d=0;d<a.length;d++)if(b.id===a[d].id){b.values=a[d].values;a.splice(d,1);break}});g.data.targets=g.data.targets.concat(a);Yc(g.data.targets);F({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});b()}function ed(a){q.selectAll(".legend-item").filter(function(b){return b!==a}).transition().duration(100).style("opacity",0.3)}function fd(){q.selectAll(".legend-item").transition().duration(100).style("opacity",
1)}function ub(a,b){var c=qb(a),d,e=p/2-Ua*Object.keys(a).length/2,h;b=v(b)?{}:b;h=s(b.withTransition)?b.withTransition:!0;d=za.selectAll(".legend-item").data(c).enter().append("g").attr("class",function(a){return"legend-item legend-item-"+a}).style("cursor","pointer").on("click",function(a){pe(a)}).on("mouseover",function(a){ed(a);g.focus(a)}).on("mouseout",function(){fd();g.revert()});d.append("rect").attr("class","legend-item-event").style("fill-opacity",0).attr("x",-200).attr("y",function(){return ma/
2-16}).attr("width",Ua).attr("height",24);d.append("rect").attr("class","legend-item-tile").style("pointer-events","none").style("fill",function(a){return O(a)}).attr("x",-200).attr("y",function(){return ma/2-9}).attr("width",10).attr("height",10);d.append("text").text(function(a){return s(La[a])?La[a]:a}).style("pointer-events","none").attr("x",-200).attr("y",function(){return ma/2});za.selectAll("rect.legend-item-event").data(c).transition().duration(h?250:0).attr("x",function(a,b){return e+Ua*
b});za.selectAll("rect.legend-item-tile").data(c).transition().duration(h?250:0).attr("x",function(a,b){return e+Ua*b});za.selectAll("text").data(c).transition().duration(h?250:0).attr("x",function(a,b){return e+Ua*b+14})}function Va(a){return s(a)?".target-"+a:".target"}function Xb(a){return uc(a.id)}function Yb(a){return"data"in a&&uc(a.data.id)}var g={data:{}},ob={},$="_expanded_",ia="_selected_",Wb="_included_",va=e(["bindto"],"#chart"),$a=e(["size","width"],null),ic=e(["size","height"],null),
db=e(["padding","left"],null),ab=e(["padding","right"],null),ra=e(["zoom","enabled"],!1),gd=e(["zoom","extent"],null),de=e(["zoom","privileged"],!1),Zd=e(["onenter"],function(){}),$d=e(["onleave"],function(){});if(!("data"in aa))throw Error("data is required in config");var qa=e(["data","x"],null),Z=e(["data","xs"],null),Ib=e(["data","x_format"],"%Y-%m-%d"),Hd=e(["data","id_converter"],function(a){return a}),La=e(["data","names"],{}),r=e(["data","groups"],[]),nc=e(["data","axes"],{}),dd=e(["data",
"type"],null),D=e(["data","types"],{}),hd=e(["data","regions"],{}),qe=e(["data","colors"],{}),ga=e(["data","selection","enabled"],!1),sa=e(["data","selection","grouped"],!1),ha=e(["data","selection","isselectable"],function(){return!0}),ya=e(["subchart","show"],!1),dc=ya?e(["subchart","size","height"],60):0,re=e(["color","pattern"],null),Aa=e(["legend","show"],!0),Ua=e(["legend","item","width"],80),pe=e(["legend","item","onclick"],function(){}),id=e(["axis","x","type"],"indexed"),Ga=e(["axis","x",
"categories"],[]),pd=e(["axis","x","tick","centered"],!1),kb=e(["axis","x","tick","format"],null),tb=e(["axis","x","default"],null),ae=e(["axis","x","label"],null),xd=e(["axis","y","max"],null),vd=e(["axis","y","min"],null),zd=e(["axis","y","center"],null),be=e(["axis","y","label"],null),eb=e(["axis","y","inner"],!1),Wd=e(["axis","y","tick","format"],function(a){return a}),Ia=e(["axis","y","padding"],null),Vd=e(["axis","y","ticks"],10),yb=e(["axis","y2","show"],!1),wd=e(["axis","y2","max"],null),
ud=e(["axis","y2","min"],null),yd=e(["axis","y2","center"],null),bb=e(["axis","y2","inner"],!1),Yd=e(["axis","y2","tick","format"],function(a){return a}),Ja=e(["axis","y2","padding"],null),Xd=e(["axis","y2","ticks"],10),h=e(["axis","rotated"],!1),Wc=e(["grid","x","show"],!1),ke=e(["grid","x","type"],"tick"),Qb=e(["grid","x","lines"],null),Xc=e(["grid","y","show"],!1),Rb=e(["grid","y","lines"],null),Nb=e(["point","show"],!0)?e(["point","r"],2.5):0,ce=e(["point","focus","line","enabled"],!0),Sb=e(["point",
"focus","expand","enabled"],!0),Tb=e(["point","focus","expand","r"],Sb?4:Nb),Qa=e(["point","focus","select","r"],8),je=e(["point","onclick"],function(){}),Rd=e(["point","onselected"],function(){}),Sd=e(["point","onunselected"],function(){}),P=e(["regions"],[]),Fc=e(["tooltip","contents"],function(a){var b="<table class='-tooltip'><tr><th colspan='2'>"+bc()(a[0].x)+"</th></tr>",c,d,e;for(c=0;c<a.length;c++)a[c]&&(a[c].value||0===a[c].value)&&(d=s(a[c].value)?(Math.round(100*a[c].value)/100).toFixed(2):
"-",e=a[c].name,b+="<tr class='-tooltip-name-"+a[c].id+"'><td class='name'><span style='background-color:"+O(a[c].id)+"'></span>"+e+"</td><td class='value'>"+d+"</td></tr>");return b+"</table>"}),ee=e(["tooltip","init","show"],!1),Ba=e(["tooltip","init","x"],0),Zc=e(["tooltip","init","position"],{top:"0px",left:"50px"}),Pb=va.replace("#","")+"-clip",Ra="url(#"+Pb+")",A="timeseries"===id,Y="categorized"===id,Fb=!A&&(qa||Z),Vb=null,Sa=!1,Ub=!1,ma=Aa?40:0,O=function(a,b){var c=[],d=null!==b?b:"#1f77b4 #ff7f0e #2ca02c #d62728 #9467bd #8c564b #e377c2 #7f7f7f #bcbd22 #17becf".split(" ");
return function(b){if(b in a)return a[b];-1===c.indexOf(b)&&c.push(b);return d[c.indexOf(b)%d.length]}}(qe,re),qd=function(){var a=[[d.time.format("%Y/%-m/%-d"),function(){return!0}],[d.time.format("%-m/%-d"),function(a){return a.getMonth()}],[d.time.format("%-m/%-d"),function(a){return 1!==a.getDate()}],[d.time.format("%-m/%-d"),function(a){return a.getDay()&&1!==a.getDate()}],[d.time.format("%I %p"),function(a){return a.getHours()}],[d.time.format("%I:%M"),function(a){return a.getMinutes()}],[d.time.format(":%S"),
function(a){return a.getSeconds()}],[d.time.format(".%L"),function(a){return a.getMilliseconds()}]];return function(b){for(var c=a.length-1,d=a[c];!d[1](b);)d=a[--c];return d[0](b)}}(),cc,gc,ec,cb,fc,hc,p,t,na,xb,ua,fb,zb,jb,lc,mc,Db,jc,kc,Bb,Cb,n,y,X,T,gb,hb,H,oa,ib,Fa,ld=h?"left":"bottom",md=h?eb?"top":"bottom":eb?"right":"left",nd=h?bb?"bottom":"top":bb?"left":"right",od="bottom",J={main:function(){return"translate("+G+","+u+")"},context:function(){return"translate("+m+","+Ca+")"},legend:function(){return"translate("+
$b+","+Zb+")"},y2:function(){return"translate("+(h?0:p)+","+(h?10:0)+")"},x:function(){return"translate(0,"+t+")"},subx:function(){return"translate(0,"+na+")"},arc:function(){return"translate("+p/2+","+t/2+")"}};Db=d.layout.pie().value(function(a){return a.values.reduce(function(a,c){return a+c.value},0)});var le=function(){var a=d.svg.line().x(h?function(a){return x(a.id)(a.value)}:xa).y(h?xa:function(a){return x(a.id)(a.value)});return function(b){var c=Kb(b.values),d;if(Hb(b))return Lc(b)?a.interpolate("cardinal"):
a.interpolate("linear"),hd[b.id]?Ud(c,n,x(b.id),hd[b.id]):a(c);d=n(c[0].x);b=x(b.id)(c[0].value);return h?"M "+b+" "+d:"M "+d+" "+b}}(),me=function(){var a;a=h?d.svg.area().x0(function(a){return x(a.id)(0)}).x1(function(a){return x(a.id)(a.value)}).y(xa):d.svg.area().x(xa).y0(function(a){return x(a.id)(0)}).y1(function(a){return x(a.id)(a.value)});return function(b){var c=Kb(b.values),d;if(Ka([b],"area")||Ka([b],"area-spline"))return Lc(b)?a.interpolate("cardinal"):a.interpolate("linear"),a(c);d=
n(c[0].x);b=x(b.id)(c[0].value);return h?"M "+b+" "+d:"M "+d+" "+b}}(),ne=function(){var a=d.svg.line().x(function(a){return T(a.x)}).y(function(a){return L(a.id)(a.value)});return function(b){var c=Kb(b.values);return Hb(b)?a(c):"M "+T(c[0].x)+" "+L(b.id)(c[0].value)}}(),I=d.svg.brush().on("brush",function(){F({withTransition:!1,withY:!1,withSubchart:!1,withUpdateXDomain:!0})}),E=d.behavior.zoom().on("zoomstart",function(){E.altDomain=d.event.sourceEvent.altKey?n.orgDomain():null}).on("zoom",ra?
oe:null);I.update=function(){z&&z.select(".x.brush").call(this);return this};E.orgScaleExtent=function(){var a=gd?gd:[1,10];return[a[0],Math.max(Ea()/a[1],a[1])]};E.updateScaleExtent=function(){var a=n.orgDomain(),a=(a[1]-a[0])/(U[1]-U[0]),b=this.orgScaleExtent();this.scaleExtent([b[0]*a,b[1]*a]);return this};var q,sb,l,z,za,V,rb,U;g.focus=function(a){var b=q.selectAll(Va(a)),c=b.filter(Xb),b=b.filter(Yb);g.defocus();c.classed("focused",!0).transition().duration(100).style("opacity",1);b.transition().duration(100).style("opacity",
1);B(g.data.targets)&&Za(a,!0)};g.defocus=function(a){var b=q.selectAll(Va(a)),c=b.filter(Xb),b=b.filter(Yb);c.classed("focused",!1).transition().duration(100).style("opacity",0.3);b.transition().duration(100).style("opacity",0.3);B(g.data.targets)&&vb(a)};g.revert=function(a){var b=q.selectAll(Va(a)),c=b.filter(Xb),b=b.filter(Yb);c.classed("focused",!1).transition().duration(100).style("opacity",1);b.transition().duration(100).style("opacity",1);B(g.data.targets)&&vb(a)};g.show=function(a){q.selectAll(Va(a)).transition().style("opacity",
1)};g.hide=function(a){q.selectAll(Va(a)).transition().style("opacity",0)};g.unzoom=function(){I.clear().update();F({withUpdateXDomain:!0})};g.load=function(a){"function"!==typeof a.done&&(a.done=function(){});a.xs&&Gd(a.xs);"categories"in a&&Y&&(Ga=a.categories,H.categories(Ga));if("cacheIds"in a&&Cd(a.cacheIds))Ta(Dd(a.cacheIds),a.done);else if("data"in a)Ta(Ma(a.data),a.done);else if("url"in a)d.csv(a.url,function(b,c){Ta(Ma(c),a.done)});else if("rows"in a)Ta(Ma(rc(a.rows)),a.done);else if("columns"in
a)Ta(Ma(sc(a.columns)),a.done);else throw Error("url or rows or columns is required.");};g.unload=function(a){g.data.targets=g.data.targets.filter(function(b){return b.id!==a});q.selectAll(".target-"+a).transition().style("opacity",0).remove();Aa&&(q.selectAll(".legend-item-"+a).remove(),ub(g.data.targets));0<g.data.targets.length&&F({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})};g.selected=function(a){a=s(a)?"-"+a:"";return d.merge(l.selectAll(".-shapes"+a).selectAll(".-shape").filter(function(){return d.select(this).classed(ia)}).map(function(a){return a.map(function(a){return a.__data__})}))};
g.select=function(a,b,c){ga&&l.selectAll(".-shapes").selectAll(".-shape").each(function(e,g){var h="circle"===this.nodeName?Qc:Td,l="circle"===this.nodeName?Jb:Sc;0<=b.indexOf(g)?ha(e)&&(sa||v(a)||0<=a.indexOf(e.id))&&h(d.select(this).classed(ia,!0),e,g):s(c)&&c&&l(d.select(this).classed(ia,!1),e,g)})};g.unselect=function(a,b){ga&&l.selectAll(".-shapes").selectAll(".-shape").each(function(c,e){var g="circle"===this.nodeName?Jb:Sc;(v(b)||0<=b.indexOf(e))&&ha(c)&&(sa||v(a)||0<=a.indexOf(c.id))&&g(d.select(this).classed(ia,
!1),c,e)})};g.toLine=function(a){Pa(a,"line");F()};g.toSpline=function(a){Pa(a,"spline");F()};g.toBar=function(a){Pa(a,"bar");F()};g.toScatter=function(a){Pa(a,"scatter");F()};g.groups=function(a){if(v(a))return r;r=a;F();return r};g.regions=function(a){if(v(a))return P;P=a;F();return P};g.regions.add=function(a){if(v(a))return P;P=P.concat(a);F();return P};g.regions.remove=function(a,b){var c=[].concat(a);b=s(b)?b:{};c.forEach(function(a){var c=q.selectAll("."+a);s(b.duration)&&(c=c.transition().duration(b.duration).style("fill-opacity",
0));c.remove();P=P.filter(function(b){return 0>b.classes.indexOf(a)})});return P};g.data.get=function(a){a=g.data.getAsTarget(a);return s(a)?a.values.map(function(a){return a.value}):void 0};g.data.getAsTarget=function(a){var b=mb(function(b){return b.id===a});return 0<b.length?b[0]:void 0};g.destroy=function(){g.data.targets=void 0;g.data.x={};rb.html("");N.onresize=null};if("url"in aa.data)d.csv(aa.data.url,function(a,b){Ob(b)});else if("rows"in aa.data)Ob(rc(aa.data.rows));else if("columns"in aa.data)Ob(sc(aa.data.columns));
else throw Error("url or rows or columns is required.");return g}})(window);
